import{G as h,H as u,A as f,F as m,_ as p,B as g,D as _,I as x}from"./_plugin-vue_export-helper-D3-DTfkU.js";import{an as w,E as k,d as I,e as S,f as V,w as e,O as A,ao as C,i as v,c as a,M as L,af as b,ag as B,ah as P}from"./index-VXk1GC17.js";import"./tag-Cu77bHDR.js";const T=t=>{w(t),k.getInstance().emit("login")},N=t=>(b("data-v-57fe6392"),t=t(),B(),t),y=N(()=>P("h1",{class:"text-h5 font-weight-bold"},"Scotiacon Staff Portal",-1)),E=I({__name:"AuthLogin",setup(t){const o=C(),n=u(),s=new URL(location.href),i=s.searchParams.get("code")||"",d=s.searchParams.get("token")||"",l=s.searchParams.get("state")||"",c=S(!1);return n.oAuthLogin("keycloak",i,d,l).then(r=>{T(r),o.push("/")}).catch(()=>{c.value=!0,setTimeout(()=>{o.push("/logout")},2e3)}),(r,R)=>c.value?(v(),V(h,{key:0,class:"fill-height",fluid:""},{default:e(()=>[a(_,{class:"border-blur-20 border-50 text-white mx-auto vanishIn","max-width":"400"},{default:e(()=>[a(f,{class:"text-wrap text-center"},{default:e(()=>[a(m,{alt:"Scotiacon logo showing Scottie dog mascot Wallace as silhouette in front of a Scottish flag",class:"my-4 mx-auto","max-height":"300",width:"300",src:p}),y]),_:1}),a(g,{class:"text-red-darken-3 font-weight-bold text-center text-white-shadow"},{default:e(()=>[L(" Error occurred whilst attempting login ")]),_:1})]),_:1})]),_:1})):A("",!0)}}),H=x(E,[["__scopeId","data-v-57fe6392"]]);export{H as default};
