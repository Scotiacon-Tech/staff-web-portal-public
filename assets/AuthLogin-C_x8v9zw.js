import{V as h,_ as u}from"./index-Db2smv_P.js";import{ar as m,G as p,D as f,r as _,E as g,F as e,M as x,as as w,I as V,q as a,J as k,ah as I,ai as S,N as b}from"./index-2ndd5mQr.js";import{c as C,u as v,V as A,a as L,b as N,_ as P}from"./_plugin-vue_export-helper-BWDpMu7L.js";const T=t=>{m(t),p.getInstance().emit("login")},B=t=>(I("data-v-2cb8d8a3"),t=t(),S(),t),y=B(()=>b("h1",{class:"text-h5 font-weight-bold"},"Scotiacon Staff Portal",-1)),E=f({__name:"AuthLogin",setup(t){const o=w(),n=v(),s=new URL(location.href),i=s.searchParams.get("code")||"",d=s.searchParams.get("token")||"",l=s.searchParams.get("state")||"",r=_(!1);return n.oAuthLogin("keycloak",i,d,l).then(c=>{T(c),o.push("/")}).catch(()=>{r.value=!0,setTimeout(()=>{o.push("/logout")},2e3)}),(c,R)=>r.value?(V(),g(C,{key:0,class:"fill-height",fluid:""},{default:e(()=>[a(N,{class:"border-blur-20 border-50 text-white mx-auto vanishIn","max-width":"400"},{default:e(()=>[a(A,{class:"text-wrap text-center"},{default:e(()=>[a(h,{alt:"Scotiacon logo showing Scottie dog mascot Wallace as silhouette in front of a Scottish flag",class:"my-4 mx-auto","max-height":"300",width:"300",src:u}),y]),_:1}),a(L,{class:"text-red-darken-3 font-weight-bold text-center text-white-shadow"},{default:e(()=>[k(" Error occurred whilst attempting login ")]),_:1})]),_:1})]),_:1})):x("",!0)}}),G=P(E,[["__scopeId","data-v-2cb8d8a3"]]);export{G as default};
