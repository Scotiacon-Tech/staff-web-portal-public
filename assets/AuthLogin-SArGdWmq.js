import{G as h,H as u,A as m,F as f,_ as p,B as g,D as _,I as x}from"./_plugin-vue_export-helper-fhmRAc6y.js";import{an as w,E as k,d as I,e as S,f as V,w as e,O as b,ao as A,i as C,c as a,M as v,af as L,ag as B,ah as P}from"./index-b0FTYAfH.js";import"./tag-L2Sn6D-i.js";const T=t=>{w(t),k.getInstance().emit("login")},N=t=>(L("data-v-2cb8d8a3"),t=t(),B(),t),y=N(()=>P("h1",{class:"text-h5 font-weight-bold"},"Scotiacon Staff Portal",-1)),E=I({__name:"AuthLogin",setup(t){const o=A(),n=u(),s=new URL(location.href),i=s.searchParams.get("code")||"",d=s.searchParams.get("token")||"",l=s.searchParams.get("state")||"",c=S(!1);return n.oAuthLogin("keycloak",i,d,l).then(r=>{T(r),o.push("/")}).catch(()=>{c.value=!0,setTimeout(()=>{o.push("/logout")},2e3)}),(r,R)=>c.value?(C(),V(h,{key:0,class:"fill-height",fluid:""},{default:e(()=>[a(_,{class:"border-blur-20 border-50 text-white mx-auto vanishIn","max-width":"400"},{default:e(()=>[a(m,{class:"text-wrap text-center"},{default:e(()=>[a(f,{alt:"Scotiacon logo showing Scottie dog mascot Wallace as silhouette in front of a Scottish flag",class:"my-4 mx-auto","max-height":"300",width:"300",src:p}),y]),_:1}),a(g,{class:"text-red-darken-3 font-weight-bold text-center text-white-shadow"},{default:e(()=>[v(" Error occurred whilst attempting login ")]),_:1})]),_:1})]),_:1})):b("",!0)}}),H=x(E,[["__scopeId","data-v-2cb8d8a3"]]);export{H as default};
