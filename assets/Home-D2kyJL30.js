import{D as k,I as v,E as _,F as i,N as Z,q as o,J as V,O as ee,p as h,m as Le,l as L,n as Se,c as b,v as te,t as C,s as Ve,x as Ce,i as ae,P as ne,Q as Ie,R as Y,S as we,d as Pe,U as N,V as z,W as oe,X as Ee,z as Ae,Y as Te,r as x,K as D,Z as A,_ as M,$ as O,B as R,a0 as g,a1 as $e,a2 as Ne,a3 as Be,a4 as je,a5 as De,a6 as q,a7 as Me,a8 as Oe,a9 as J,aa as Re,ab as Fe,ac as Ue,ad as Ge,ae as ze,af as Ke,ag as He,M as We,ah as Ye,ai as qe,T as Je}from"./index-2ndd5mQr.js";import{V as le,a as Qe,b as se,c as ie,u as re,_ as K,d as Xe}from"./_plugin-vue_export-helper-BWDpMu7L.js";import{j as ce,m as S,a as B,u as j,R as Ze,e as ue,c as et,d as tt,g as at,h as nt,V as ot,_ as lt}from"./index-Db2smv_P.js";import{m as st,b as it,V as rt,c as ct,d as ut,a as dt}from"./VBtn-CpN2DvJs.js";const ft=["href"],F=k({__name:"OptionCard",props:{option:{}},setup(e){return(n,a)=>(v(),_(se,null,{default:i(()=>[Z("a",{href:n.option.href,class:"d-flex flex-column h-100 text-white text-decoration-none"},[o(le,{class:"text-center text-wrap"},{default:i(()=>[V(ee(n.option.title),1)]),_:1}),o(Qe,{class:"align-content-end"},{default:i(()=>[o(ce,{icon:n.option.icon,size:"64"},null,8,["icon"])]),_:1})],8,ft)]),_:1}))}}),P=Symbol.for("vuetify:v-expansion-panel"),pt=["default","accordion","inset","popout"],gt=h({color:String,static:Boolean,variant:{type:String,default:"default",validator:e=>pt.includes(e)},readonly:Boolean,...S(),...st(),...B(),...Le()},"VExpansionPanels"),mt=L()({name:"VExpansionPanels",props:gt(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:a}=n;it(e,P);const{themeClasses:t}=Se(e),l=b(()=>e.variant&&`v-expansion-panels--variant-${e.variant}`);return te({VExpansionPanel:{color:C(e,"color"),readonly:C(e,"readonly"),static:C(e,"static")}}),j(()=>o(e.tag,{class:["v-expansion-panels",t.value,l.value,e.class],style:e.style},a)),{}}}),de=h({eager:Boolean},"lazy");function vt(e,n){const a=Ve(!1),t=b(()=>a.value||e.eager||n.value);Ce(n,()=>a.value=!0);function l(){e.eager||(a.value=!1)}return{isBooted:a,hasContent:t,onAfterLeave:l}}const bt=h({...S(),...de()},"VExpansionPanelText"),T=L()({name:"VExpansionPanelText",props:bt(),setup(e,n){let{slots:a}=n;const t=ae(P);if(!t)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:l,onAfterLeave:r}=vt(e,t.isSelected);return j(()=>o(rt,{onAfterLeave:r},{default:()=>{var s;return[ne(o("div",{class:["v-expansion-panel-text",e.class],style:e.style},[a.default&&l.value&&o("div",{class:"v-expansion-panel-text__wrapper"},[(s=a.default)==null?void 0:s.call(a)])]),[[Ie,t.isSelected.value]])]}})),{}}}),fe=h({color:String,expandIcon:{type:Y,default:"$expand"},collapseIcon:{type:Y,default:"$collapse"},hideActions:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...S()},"VExpansionPanelTitle"),$=L()({name:"VExpansionPanelTitle",directives:{Ripple:Ze},props:fe(),setup(e,n){let{slots:a}=n;const t=ae(P);if(!t)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:l,backgroundColorStyles:r}=ue(e,"color"),s=b(()=>({collapseIcon:e.collapseIcon,disabled:t.disabled.value,expanded:t.isSelected.value,expandIcon:e.expandIcon,readonly:e.readonly}));return j(()=>{var c;return ne(o("button",{class:["v-expansion-panel-title",{"v-expansion-panel-title--active":t.isSelected.value,"v-expansion-panel-title--static":e.static},l.value,e.class],style:[r.value,e.style],type:"button",tabindex:t.disabled.value?-1:void 0,disabled:t.disabled.value,"aria-expanded":t.isSelected.value,onClick:e.readonly?void 0:t.toggle},[o("span",{class:"v-expansion-panel-title__overlay"},null),(c=a.default)==null?void 0:c.call(a,s.value),!e.hideActions&&o("span",{class:"v-expansion-panel-title__icon"},[a.actions?a.actions(s.value):o(ce,{icon:t.isSelected.value?e.collapseIcon:e.expandIcon},null)])]),[[we("ripple"),e.ripple]])}),{}}}),ht=h({title:String,text:String,bgColor:String,...S(),...et(),...ct(),...de(),...tt(),...B(),...fe()},"VExpansionPanel"),U=L()({name:"VExpansionPanel",props:ht(),emits:{"group:selected":e=>!0},setup(e,n){let{slots:a}=n;const t=ut(e,P),{backgroundColorClasses:l,backgroundColorStyles:r}=ue(e,"bgColor"),{elevationClasses:s}=at(e),{roundedClasses:c}=nt(e),d=b(()=>(t==null?void 0:t.disabled.value)||e.disabled),u=b(()=>t.group.items.value.reduce((f,m,E)=>(t.group.selected.value.includes(m.id)&&f.push(E),f),[])),p=b(()=>{const f=t.group.items.value.findIndex(m=>m.id===t.id);return!t.isSelected.value&&u.value.some(m=>m-f===1)}),y=b(()=>{const f=t.group.items.value.findIndex(m=>m.id===t.id);return!t.isSelected.value&&u.value.some(m=>m-f===-1)});return Pe(P,t),te({VExpansionPanelText:{eager:C(e,"eager")},VExpansionPanelTitle:{readonly:C(e,"readonly")}}),j(()=>{const f=!!(a.text||e.text),m=!!(a.title||e.title);return o(e.tag,{class:["v-expansion-panel",{"v-expansion-panel--active":t.isSelected.value,"v-expansion-panel--before-active":p.value,"v-expansion-panel--after-active":y.value,"v-expansion-panel--disabled":d.value},c.value,l.value,e.class],style:[r.value,e.style]},{default:()=>{var E;return[o("div",{class:["v-expansion-panel__shadow",...s.value]},null),m&&o($,{key:"title",collapseIcon:e.collapseIcon,color:e.color,expandIcon:e.expandIcon,hideActions:e.hideActions,ripple:e.ripple},{default:()=>[a.title?a.title():e.title]}),f&&o(T,{key:"text"},{default:()=>[a.text?a.text():e.text]}),(E=a.default)==null?void 0:E.call(a)]}})}),{}}}),pe=N.reduce((e,n)=>(e[n]={type:[Boolean,String,Number],default:!1},e),{}),ge=N.reduce((e,n)=>{const a="offset"+z(n);return e[a]={type:[String,Number],default:null},e},{}),me=N.reduce((e,n)=>{const a="order"+z(n);return e[a]={type:[String,Number],default:null},e},{}),Q={col:Object.keys(pe),offset:Object.keys(ge),order:Object.keys(me)};function yt(e,n,a){let t=e;if(!(a==null||a===!1)){if(n){const l=n.replace(e,"");t+=`-${l}`}return e==="col"&&(t="v-"+t),e==="col"&&(a===""||a===!0)||(t+=`-${a}`),t.toLowerCase()}}const _t=["auto","start","end","center","baseline","stretch"],xt=h({cols:{type:[Boolean,String,Number],default:!1},...pe,offset:{type:[String,Number],default:null},...ge,order:{type:[String,Number],default:null},...me,alignSelf:{type:String,default:null,validator:e=>_t.includes(e)},...S(),...B()},"VCol"),I=L()({name:"VCol",props:xt(),setup(e,n){let{slots:a}=n;const t=b(()=>{const l=[];let r;for(r in Q)Q[r].forEach(c=>{const d=e[c],u=yt(r,c,d);u&&l.push(u)});const s=l.some(c=>c.startsWith("v-col-"));return l.push({"v-col":!s||!e.cols,[`v-col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),l});return()=>{var l;return oe(e.tag,{class:[t.value,e.class],style:e.style},(l=a.default)==null?void 0:l.call(a))}}}),H=["start","end","center"],ve=["space-between","space-around","space-evenly"];function W(e,n){return N.reduce((a,t)=>{const l=e+z(t);return a[l]=n(),a},{})}const kt=[...H,"baseline","stretch"],be=e=>kt.includes(e),he=W("align",()=>({type:String,default:null,validator:be})),Lt=[...H,...ve],ye=e=>Lt.includes(e),_e=W("justify",()=>({type:String,default:null,validator:ye})),St=[...H,...ve,"stretch"],xe=e=>St.includes(e),ke=W("alignContent",()=>({type:String,default:null,validator:xe})),X={align:Object.keys(he),justify:Object.keys(_e),alignContent:Object.keys(ke)},Vt={align:"align",justify:"justify",alignContent:"align-content"};function Ct(e,n,a){let t=Vt[e];if(a!=null){if(n){const l=n.replace(e,"");t+=`-${l}`}return t+=`-${a}`,t.toLowerCase()}}const It=h({dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:be},...he,justify:{type:String,default:null,validator:ye},..._e,alignContent:{type:String,default:null,validator:xe},...ke,...S(),...B()},"VRow"),w=L()({name:"VRow",props:It(),setup(e,n){let{slots:a}=n;const t=b(()=>{const l=[];let r;for(r in X)X[r].forEach(s=>{const c=e[s],d=Ct(r,s,c);d&&l.push(d)});return l.push({"v-row--no-gutters":e.noGutters,"v-row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),l});return()=>{var l;return oe(e.tag,{class:["v-row",t.value,e.class],style:e.style},(l=a.default)==null?void 0:l.call(a))}}}),wt=h({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function Pt(e,n){let a=()=>{};function t(s){a==null||a();const c=Number(s?e.openDelay:e.closeDelay);return new Promise(d=>{a=Ee(c,()=>{n==null||n(s),d(s)})})}function l(){return t(!0)}function r(){return t(!1)}return{clearDelay:a,runOpenDelay:l,runCloseDelay:r}}const Et=h({disabled:Boolean,modelValue:{type:Boolean,default:void 0},...wt()},"VHover"),G=L()({name:"VHover",props:Et(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:a}=n;const t=Ae(e,"modelValue"),{runOpenDelay:l,runCloseDelay:r}=Pt(e,s=>!e.disabled&&(t.value=s));return()=>{var s;return(s=a.default)==null?void 0:s.call(a,{isHovering:t.value,props:{onMouseenter:l,onMouseleave:r}})}}}),At=k({__name:"Dashboard",setup(e){const{smAndUp:n}=Te(),a=x([0]),t=x(new Map);re().getLogoutURLs().then(d=>{d&&(t.value=d)});const r=[{buttonIcon:g,buttonLabel:"Login",icon:$e,label:"Login",href:"https://sso.scotiacon.org.uk/realms/scotiacon-staff/account/",title:"Account Management"},{buttonIcon:g,buttonLabel:"Login",icon:Ne,label:"Login",href:"https://events.scotiacon.org.uk/orga/login/?next=/orga/event/&",title:"Events Management"},{buttonIcon:g,buttonLabel:"Login",icon:Be,label:"Login",href:"https://drive.scotiacon.org.uk/",title:"File Storage"},{buttonIcon:g,buttonLabel:"Login",icon:je,label:"Login",href:"https://sendy.scotiacon.org.uk/",title:"Mass Mailing"},{buttonIcon:g,buttonLabel:"Login",icon:De,href:"https://reg.scotiacon.org.uk",title:"Operations & Registration"},{buttonIcon:q,buttonLabel:"View",icon:Me,href:"https://docs.google.com/spreadsheets/d/1KMSOre0XszWeQ4OsQWMYiaF_GB99p5OlthwcsFgqqxA/edit#gid=0",title:"Organisational Chart"},{buttonIcon:q,buttonLabel:"Login",icon:Oe,href:"https://kanban.scotiacon.org.uk/login?redirectToProvider=true",title:"Project Management"},{buttonIcon:g,buttonLabel:"Login",icon:J,label:"Login",href:"https://mail.staff.scotiacon.org.uk/?iam_sso=1",title:"Staff Emails"},{buttonIcon:g,buttonLabel:"Login",icon:Re,href:"https://support.scotiacon.org.uk/scp/login.php",title:"Support Tickets"},{buttonIcon:g,buttonLabel:"Login",icon:Fe,label:"Login",href:"https://cad.scotiacon.org.uk/Account/LogOn",title:"Welfare Dispatch"}],s=[{buttonIcon:g,buttonLabel:"Login",icon:Ue,label:"Login",href:"https://aws.amazon.com/",title:"Amazon AWS"},{buttonIcon:g,buttonLabel:"Login",icon:Ge,label:"Login",href:"https://www.cloudflare.com/en-gb/",title:"CloudFlare DNS"},{buttonIcon:g,buttonLabel:"Login",icon:ze,label:"Login",href:"https://portainer.scotiacon.org.uk/",title:"Docker"},{buttonIcon:g,buttonLabel:"Login",icon:Ke,label:"Login",href:"https://hpanel.hostinger.com/",title:"Server Management"}],c=[{buttonIcon:g,buttonLabel:"Login",icon:J,label:"Login",href:"https://webmail.lcn.com/",title:"Departmental & Individual Email"}];return(d,u)=>(v(),_(ie,{class:"pa-0 pa-sm-2 pa-md-4",fluid:""},{default:i(()=>[o(mt,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=p=>a.value=p),multiple:!0},{default:i(()=>[o(U,{class:"bg-transparent",rounded:D(n)?5:0},{default:i(()=>[o($,{class:"text-h6",color:"blue-darken-3"},{default:i(()=>[V(" General Resources ")]),_:1}),o(T,{style:{"background-color":"rgba(0,0,0,0.75)"}},{default:i(()=>[o(w,{class:"flex-wrap pt-2"},{default:i(()=>[(v(),A(M,null,O(r,p=>o(I,{class:"text-center",key:p.title},{default:i(()=>[o(G,null,{default:i(({isHovering:y,props:f})=>[o(F,R(f,{option:p,class:`mx-auto vanishIn ${y?"bg-blue-darken-2":"bg-blue-darken-4"} rounded-lg h-100`}),null,16,["option","class"])]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1})]),_:1},8,["rounded"]),o(U,{class:"bg-transparent",rounded:D(n)?5:0},{default:i(()=>[o($,{class:"text-h6",color:"green-darken-3"},{default:i(()=>[V(" Tech Team Resources ")]),_:1}),o(T,{style:{"background-color":"rgba(0,0,0,0.75)"}},{default:i(()=>[o(w,{class:"flex-wrap pt-2"},{default:i(()=>[(v(),A(M,null,O(s,p=>o(I,{class:"text-center",key:p.title},{default:i(()=>[o(G,null,{default:i(({isHovering:y,props:f})=>[o(F,R(f,{option:p,class:`mx-auto vanishIn ${y?"bg-green-darken-2":"bg-green-darken-4"} rounded-lg h-100`}),null,16,["option","class"])]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1})]),_:1},8,["rounded"]),o(U,{class:"bg-transparent",rounded:D(n)?5:0},{default:i(()=>[o($,{class:"text-h6",color:"red-darken-3"},{default:i(()=>[V(" Legacy Resources ")]),_:1}),o(T,{style:{"background-color":"rgba(0,0,0,0.75)"}},{default:i(()=>[o(w,{class:"flex-wrap pt-2"},{default:i(()=>[(v(),A(M,null,O(c,p=>o(I,{class:"text-center",key:p.title},{default:i(()=>[o(G,null,{default:i(({isHovering:y,props:f})=>[o(F,R(f,{option:p,class:`mx-auto vanishIn ${y?"bg-red-darken-2":"bg-red-darken-4"} rounded-lg h-100`}),null,16,["option","class"])]),_:2},1024)]),_:2},1024)),64))]),_:1})]),_:1})]),_:1},8,["rounded"])]),_:1},8,["modelValue"])]),_:1}))}}),Tt=k({__name:"AuthButton",props:{appendIcon:{type:[String,Array,Function,Object]},className:{},color:{},credential:{},source:{},variant:{}},setup(e){const{appendIcon:n="",className:a="",credential:t,source:l,variant:r="elevated"}=e,s={keycloak:{icon:"$login",label:"Login",name:"KeyCloak"}},c=x(s[l.toLowerCase()].label||""),d=x(s[l.toLowerCase()].icon||"");return b(()=>{if(l.toLowerCase()==="internal"||l.toLowerCase()==="email")return t==null?void 0:t.Email;try{const u=JSON.parse((t==null?void 0:t.Data)||"{}");switch(l.toLowerCase()){case"telegram":return`@${u.username||u.id}`}}catch{}return""}),(u,p)=>(v(),_(dt,{"append-icon":u.appendIcon,"prepend-icon":d.value,class:He(`${u.source.toLowerCase()} ${u.className}`),color:u.color,variant:u.variant},{default:i(()=>[V(ee(c.value),1)]),_:1},8,["append-icon","prepend-icon","class","color","variant"]))}}),$t=K(Tt,[["__scopeId","data-v-22fd4e34"]]),Nt=["href"],Bt=k({__name:"LoginButton",props:{appendIcon:{type:[String,Array,Function,Object]},color:{},credential:{},source:{},url:{},variant:{}},setup(e){const{appendIcon:n="",credential:a,source:t="internal",url:l=""}=e,r=x("");try{const s=new URL(l);r.value=s.searchParams.get("state")||""}catch{}return(s,c)=>(v(),A("a",{href:s.url},[o($t,{"append-icon":s.appendIcon,color:s.color,credential:s.credential,source:s.source,variant:s.variant,className:"d-flex justify-start w-100"},null,8,["append-icon","color","credential","source","variant"])],8,Nt))}}),jt=K(Bt,[["__scopeId","data-v-c3f4d27b"]]),Dt=k({__name:"LoginButtons",props:{showKeyCloakLogin:{type:Boolean},variant:{}},setup(e){const n=x(new Map);return re().getLoginURLs().then(t=>{t&&(n.value=t)}),(t,l)=>t.showKeyCloakLogin&&n.value.size>0?(v(),_(w,{key:0,dense:!0},{default:i(()=>[o(I,null,{default:i(()=>[o(jt,{source:"keycloak",color:"primary",url:n.value.get("OAUTH_KEYCLOAK_URL")||"",variant:t.variant},null,8,["url","variant"])]),_:1})]),_:1})):We("",!0)}}),Mt=e=>(Ye("data-v-647ab0eb"),e=e(),qe(),e),Ot=Mt(()=>Z("h1",{class:"text-h5 font-weight-bold"},"Scotiacon Staff Portal",-1)),Rt=k({__name:"Login",setup(e){return(n,a)=>(v(),_(ie,{class:"fill-height",fluid:""},{default:i(()=>[o(se,{class:"border-blur-20 border-50 text-white mx-auto vanishIn","max-width":"400"},{default:i(()=>[o(le,{class:"text-wrap text-center"},{default:i(()=>[o(ot,{alt:"Scotiacon logo showing Scottie dog mascot Wallace as silhouette in front of a Scottish flag",class:"my-4 mx-auto","max-height":"300",width:"300",src:lt}),Ot]),_:1}),o(Xe,null,{default:i(()=>[o(w,{class:"d-flex align-center justify-center"},{default:i(()=>[o(I,{cols:"auto"},{default:i(()=>[o(Dt,{"show-key-cloak-login":!0,variant:"flat"})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}}),Ft=K(Rt,[["__scopeId","data-v-647ab0eb"]]),Ut=Je.getInstance(),Gt=()=>Ut,Yt=k({__name:"Home",setup(e){const n=Gt(),a=x(!1),t=n.getTokenByService("AuthAPI");return t&&n.accessTimeRemaining(t)>0&&(a.value=!0),(l,r)=>a.value?(v(),_(At,{key:0})):(v(),_(Ft,{key:1}))}});export{Yt as default};
