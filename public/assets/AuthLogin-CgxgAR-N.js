import{V as h,_ as m}from"./index-DDycyKOU.js";import{as as f,F as g,D as p,r as x,E as _,I as e,N as w,at as V,H as k,q as a,J as b,K as C}from"./index-BQpyQsdg.js";import{c as A,u as I,V as L,a as S,b as v,_ as N}from"./_plugin-vue_export-helper-CDyx8GjS.js";const P=r=>{f(r),g.getInstance().emit("login")},T=p({__name:"AuthLogin",setup(r){const o=V(),i=I(),s=new URL(location.href),l=s.searchParams.get("code")||"",u=s.searchParams.get("token")||"",d=s.searchParams.get("state")||"",n=x(!1);return i.oAuthLogin("keycloak",l,u,d).then(c=>{P(c),o.push("/")}).catch(()=>{n.value=!0,setTimeout(()=>{o.push("/logout")},2e3)}),(c,t)=>n.value?(k(),_(A,{key:0,class:"fill-height",fluid:""},{default:e(()=>[a(v,{class:"border-blur-20 border-50 text-white mx-auto vanishIn","max-width":"400"},{default:e(()=>[a(L,{class:"text-wrap text-center"},{default:e(()=>[a(h,{alt:"Scotiacon logo showing Scottie dog mascot Wallace as silhouette in front of a Scottish flag",class:"my-4 mx-auto","max-height":"300",width:"300",src:m}),t[0]||(t[0]=b("h1",{class:"text-h5 font-weight-bold"},"Scotiacon Staff Portal",-1))]),_:1}),a(S,{class:"text-red-darken-3 font-weight-bold text-center text-white-shadow"},{default:e(()=>t[1]||(t[1]=[C(" Error occurred whilst attempting login ")])),_:1})]),_:1})]),_:1})):w("",!0)}}),R=N(T,[["__scopeId","data-v-2cb8d8a3"]]);export{R as default};
